{% extends 'tours/base.html' %}
{% load static %}

{% block title %}Homepage - Hakuna Matata Tours{% endblock %}

{% block content %}

<section class="hero">
    <video autoplay loop muted playsinline class="hero-video">
        <source src="{% static 'images/hero_video.mp4' %}" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div class="hero-overlay"></div>
    <div class="container hero-content">
        <h1>Discover Our Unforgettable Experiences in Egypt</h1>
        <a href="#tours-start" class="btn-primary">Find Your Trip Now</a>
    </div>
</section>

<span id="tours-start"></span> 

<section class="tours-section section-padding">
    <div class="container">
        <h2 class="section-title">Luxury Nile Cruises: A Journey Through History</h2>
        <div class="horizontal-scroll-container">
            <div class="horizontal-scroll-wrapper">
                {% for tour in nile_cruise_tours %}
                <div class="scroll-item">
                    <div class="card h-100">
                        {% if tour.main_tour_image %}
                        <img src="{{ tour.get_card_image_url }}" class="card-img-top" alt="{{ tour.name }}">

                        {% else %}
                        <img src="{{ tour.get_card_image_url }}" class="card-img-top" alt="{{ tour.name }}">

                        {% endif %}
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ tour.name }}</h5>
                            <p class="card-text">{{ tour.description|striptags|truncatewords:15 }}</p>
                            <a href="{% url 'tour_detail' tour.id %}" class="btn btn-primary mt-auto align-self-start">View Details</a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <p>No featured Nile cruise tours available at the moment.</p>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<section class="tours-section section-padding bg-light">
    <div class="container">
        <h2 class="section-title">Dahabiya Nile Cruise</h2>
        <div class="horizontal-scroll-container">
            <div class="horizontal-scroll-wrapper">
                {% for tour in coastal_tours %}
                <div class="scroll-item">
                    <div class="card h-100">
                        {% if tour.main_tour_image %}
                        <img src="{{ tour.main_tour_image.url }}" class="card-img-top" alt="{{ tour.name }}">
                        {% else %}
                        <img src="{{ tour.category.image.url }}" class="card-img-top" alt="{{ tour.name }}">
                        {% endif %}
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ tour.name }}</h5>
                            <p class="card-text">{{ tour.description|striptags|truncatewords:15 }}</p>
                            <a href="{% url 'tour_detail' tour.id %}" class="btn btn-primary mt-auto align-self-start">View Details</a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <p>No featured coastal tours available at the moment.</p>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<section class="categories section-padding">
    <div class="container">
        <h2 class="section-title">Explore by Categories</h2>
        <div class="category-grid">
            {% for category in categories %}
            <a href="{% url 'category_detail' category.id %}" class="category-item">
                <img src="{{ category.image.url }}" alt="{{ category.name }}">
                <h3>{{ category.name }}</h3>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<section class="why-choose-us section-padding">
    <div class="container">
        <h2 class="section-title">Why People Choose Us</h2>
        <div class="features-grid">
            <div class="feature-item">
                <i class="fas fa-headset fa-3x"></i>
                <h3>Expert Support 24/7</h3>
                <p>Seamless assistance for a hassle-free adventure.</p>
            </div>
            <div class="feature-item">
                <i class="fas fa-hand-holding-usd fa-3x"></i>
                <h3>Best Value Trips</h3>
                <p>We offer premium, unforgettable experiences at competitive prices.</p>
            </div>
            <div class="feature-item">
                <i class="fas fa-globe-africa fa-3x"></i>
                <h3>Unforgettable Journeys</h3>
                <p>Explore Egypt's top sites with our professional local guides.</p>
            </div>
        </div>
    </div>
</section>

{% endblock %}
